import{_ as m,m as y,a as k,r as c,o as n,c as d,b as p,d as e,w as v,e as u,v as _,f as T,p as b,g}from"./index-22555a5f.js";const x={data(){return{post:null,title:"",isLoading:!1}},methods:{...y(["fetchTodos","deleteTodo","updateTodo"]),onDelete(){confirm("Are you sure ?")&&(this.deleteTodo(this.post._id),this.$router.push("/"))},onUpdate(){const o={id:this.post._id,title:this.post.title,content:[this.post.content[0]],completed:this.post.completed};this.post.title.length==0||this.post.content[0]==0?alert("Enter a title or descrptions"):confirm("Are you sure ?")&&(this.updateTodo(o),this.$router.push("/"))},async getTodos(){this.isLoading=!0;try{const o=this.$route.params.id;await this.fetchTodos().then(()=>{const t=this.allTodos;t&&(this.post=t.find(r=>r._id===o))})}catch{}finally{this.isLoading=!1}}},mounted(){this.getTodos()},computed:k(["allTodos"]),created(){this.fetchTodos()}},l=o=>(b("data-v-764755b9"),o=o(),g(),o),C={key:0,class:"h-screen flex flex-col justify-center items-center",style:{color:"#fff","font-size":"2rem"}},w={key:1},S={key:2,class:"postcard"},I={class:"head"},L=l(()=>e("i",{class:"fa-solid fa-arrow-left"},null,-1)),V=l(()=>e("span",null,"Back to my postis",-1)),A={class:"menu-link"},B=l(()=>e("i",{class:"fa-sharp fa-solid fa-pen-to-square"},null,-1)),D=[B],U=l(()=>e("i",{class:"fa-solid fa-trash-can"},null,-1)),N=[U];function P(o,t,r,E,i,a){const h=c("errors-500"),f=c("router-link");return i.isLoading?(n(),d("div",C," Loading... ")):o.error?(n(),d("div",w,[p(h)])):(n(),d("div",S,[e("div",I,[p(f,{to:"/",class:"back"},{default:v(()=>[L]),_:1}),V]),i.post?(n(),d("form",{key:0,onSubmit:t[4]||(t[4]=(...s)=>o.onSubmit&&o.onSubmit(...s))},[u(e("input",{type:"text",placeholder:"Add Post it...","onUpdate:modelValue":t[0]||(t[0]=s=>i.post.title=s)},null,512),[[_,i.post.title]]),u(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=s=>i.post.content[0]=s)},null,512),[[_,i.post.content[0]]]),e("div",A,[e("button",{class:"edit",onClick:t[2]||(t[2]=s=>a.onUpdate(s))},D),e("button",{class:"delete",onClick:t[3]||(t[3]=(...s)=>a.onDelete&&a.onDelete(...s))},N)])],32)):T("",!0)]))}const q=m(x,[["render",P],["__scopeId","data-v-764755b9"]]);export{q as default};
